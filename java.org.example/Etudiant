package org.example;

import java.util.ArrayList;
import java.util.List;

public class Etudiant extends Personne {
    private String code;
    private Formation laFormationSuivie;
    private List<Evaluation> evaluations; // Liste des évaluations de l'étudiant

    public Etudiant(String nom, String prenom, String code) {
        super(nom, prenom);
        this.code = code;
        this.evaluations = new ArrayList<>(); // Initialisation de la liste
    }

    public String getCode() {
        return code;
    }

    public void setCode(String code) {
        this.code = code;
    }

    public Formation getLaFormationSuivie() {
        return laFormationSuivie;
    }

    public void setLaFormationSuivie(Formation laFormationSuivie) {
        this.laFormationSuivie = laFormationSuivie;
    }

    // Getter et setter pour les évaluations
    public List<Evaluation> getEvaluations() {
        return evaluations;
    }

    public void setEvaluations(List<Evaluation> evaluations) {
        this.evaluations = evaluations;
    }


    public double calculerMoyenne() {
        if (evaluations == null || evaluations.isEmpty()) {
            return 0.0;
        }

        double sommeNotes = 0.0;
        int sommeCoefficients = 0;

        for (Evaluation eval : evaluations) {
            sommeNotes += eval.getLaNote() * eval.getLeCoeff();
            sommeCoefficients += eval.getLeCoeff();
        }

        if (sommeCoefficients == 0) {
            return 0.0;
        }

        return sommeNotes / sommeCoefficients;
    }
}
